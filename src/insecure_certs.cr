# This module contains an X509 Cert + Key pair that is used by the Proxy to serve
# TLS.  Note that this is insecure by design, and no trust is being placed in
# these certificates.

module InsecureCertificates
  extend self

  def write_to_temp_files
    [write_string_to_temp_file(InsecureCert),
     write_string_to_temp_file(InsecureKey)]
  end

  def write_string_to_temp_file(text : String) : String
    out = File.tempfile "beamsplitter"
    begin
      out.write(text.to_slice)
    ensure
      out.close
    end
    out.path
  end

  InsecureCert = "-----BEGIN CERTIFICATE-----
MIIFGDCCAwACCQDHKKu5PKDfkTANBgkqhkiG9w0BAQsFADBOMQswCQYDVQQGEwJB
VTEMMAoGA1UECAwDTlNXMQ8wDQYDVQQHDAZTeWRuZXkxDDAKBgNVBAoMA0RpczES
MBAGA1UEAwwJbG9jYWxob3N0MB4XDTE1MDQwMjA1MTgyNVoXDTE1MDUwMjA1MTgy
NVowTjELMAkGA1UEBhMCQVUxDDAKBgNVBAgMA05TVzEPMA0GA1UEBwwGU3lkbmV5
MQwwCgYDVQQKDANEaXMxEjAQBgNVBAMMCWxvY2FsaG9zdDCCAiIwDQYJKoZIhvcN
AQEBBQADggIPADCCAgoCggIBAL31MqGdFJps3iVNzSLx20wiCpZOgT7GhzVFyH6w
gh8hYloWtBL9UqKOjJztMno/7a+HF7Bto6Z9C2hM2dN7nqiMsazQbp0iKmnslCCC
ROO5FvZq/Sy508feOTs9tpYoNxNcg/O48uJYf7pP76RMp3i7OKNgJksKYxPSkmn9
ioJsiHPMLw0YxxiHtuaWZEJzQwQOPm3gF/nUsSHJafnnF9W6axMHcJE4kRL7ctAd
J3xLokG6IQ8QlQSDuW/POYqEAICpd7nQt/+bsqWSbHyoY69Q9dj/GLfHzQO2CWBM
L3+VlO+nAVjDTDJy/KVtFv84kIKQN1two4TieTRmHjMN0h07u0dDuGQQkz4Gf5mQ
CDBK7ehNPy2RO+3vfr9rTd4NCFIqQwUqPfe0AYRqioN7KZfpnPaSgPRiskN+nDWw
fBGm6uCQKDR9KndxpTam/UzMFeH7IGReICc+ehzmNXplhImapXTiW6WE8wM6ai/d
b7jaCEW9T3UL9Jp6QzZW6o86yFw4rnimyx319bSRtU4FuTfQ6IVgiqmyIhExZnao
pEOGG4irKfhkuhau8KlWNN2umhY7NokCXwJdA1VxU3sGU7O4m98KB5eQox/go9hv
VSpzE4CQwE6opnLZ0vSj4v9e5DVNXDfHgdxv4qwGTFaugvqL0QyjOp9AluZzprno
cUgRAgMBAAEwDQYJKoZIhvcNAQELBQADggIBAJD7mAKezWyicUnwkySUiZEb0ztA
xWX7IDwnWvj/j3YRSfd18uPOSvhNQ9cQJlX1W6YNp2C0HWNaV2xCyinR5CtgIP+w
noFhxjEPtGkDbefnM6gPv8HLjrbokr6QK4Eq6LDzpriJEEus4Sc9t2+5J8hMNduj
GR4gN4+xtuQubI9+pLVN929HUjvgNxh8M4suXNaIkMZ4DdpbknZS8Evlzcy45eu2
a4VV7o66rOfyMJ6dAB1JLm8xkIMOUdbMCXpBZsiCJ/5r2oDw9TWH3EQaMQrRqPjW
QPuNy4B+Z/YaWSiYkvSIiNWYIWR6oQLJN1qN84blj5i8GEvAoM61wu518kUSs+Th
HOPFW4AnvRLZamUGEZPK7Vgeji7AQjAWO7pAAeG2nbxX+ZbIvTYpYbXXz0p0dWvh
hXbeMPxnGR3c7oHPRIX/bXMr+czUojQA52QcShbPbl2qLOed5YNLL/SltrUduYXo
7j2RNy3g5EXlBSXZlIWAutSjIQ0x9DQi4jWtKmMNjsOjGi5kO5h7x1y1SmXiQH4J
CoTfo6nIAAkWF+uDJWrenwGZc+h2uBYI3UbfU7NcA9LcQ2Zf7m5Jwn7mCDP1mgMG
G3CF962vJtkdiZ/EjBiCUdkAXxDxQnoTs8hQGLXKHhTSEtWTrvOODoTSWMxJZi27
0nxVdFmW9y7shBA4
-----END CERTIFICATE-----
"

  InsecureKey = "-----BEGIN RSA PRIVATE KEY-----
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
-----END RSA PRIVATE KEY-----
"
end
